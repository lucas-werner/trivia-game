"use strict";

var _utils = require("../utils");

describe('<ButtonMenu/> utils', function () {
  describe('insertChildOrderly', function () {
    it('should insert the child in the right order if the item in the nodes is at middle', function () {
      var children = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item4'
      }, {
        ref: 'item5'
      }];
      var newChildren = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item3'
      }, {
        ref: 'item4'
      }, {
        ref: 'item5'
      }];
      var nodes = ['item1', 'item2', 'item3', 'item4', 'item5'];
      expect((0, _utils.insertChildOrderly)(children, {
        ref: 'item3'
      }, nodes)).toEqual(newChildren);
    });
    it('should insert the child in the right order if the item in the nodes is at end', function () {
      var children = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item3'
      }];
      var newChildren = [{
        ref: 'item1'
      }, {
        ref: 'item2'
      }, {
        ref: 'item3'
      }, {
        ref: 'item4'
      }];
      var nodes = ['item1', 'item2', 'item3', 'item4'];
      expect((0, _utils.insertChildOrderly)(children, {
        ref: 'item4'
      }, nodes)).toEqual(newChildren);
    });
  });
  describe('getChildMenuItemNodes', function () {
    var elements = [{
      element: 'div',
      innerText: 'Julio'
    }, {
      element: 'div',
      innerText: 'Pepe'
    }];
    var ref = {
      querySelectorAll: jest.fn(function () {
        return elements;
      })
    };
    it('should call querySelectorAll with a[role="menuitem"]', function () {
      (0, _utils.getChildMenuItemNodes)(ref);
      expect(ref.querySelectorAll).toHaveBeenCalledWith('div[role="option"]');
    });
    it('should return the elements resolved by querySelectorAll', function () {
      expect((0, _utils.getChildMenuItemNodes)(ref)).toEqual(elements);
    });
    it('should return an empty array if anything is passed', function () {
      expect((0, _utils.getChildMenuItemNodes)()).toEqual([]);
    });
  });
});