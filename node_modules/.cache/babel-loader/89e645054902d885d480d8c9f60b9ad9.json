{"ast":null,"code":"import _regeneratorRuntime from\"/home/lucaswerner/repositories/github-personal/trivia-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/lucaswerner/repositories/github-personal/trivia-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/lucaswerner/repositories/github-personal/trivia-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lucaswerner/repositories/github-personal/trivia-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/lucaswerner/repositories/github-personal/trivia-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/lucaswerner/repositories/github-personal/trivia-game/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{bindActionCreators}from'redux';import{ActionTickTimer}from'../store/actions/ActionsTimer';var Timer=/*#__PURE__*/function(_Component){_inherits(Timer,_Component);var _super=_createSuper(Timer);function Timer(props){var _this;_classCallCheck(this,Timer);_this=_super.call(this,props);_this.state={setTimer:''};return _this;}_createClass(Timer,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.StartTimer();case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var stopTimer=this.props.stopTimer;var prevStopTimer=prevProps.stopTimer;var setTimer=this.state.setTimer;if(stopTimer===true){clearInterval(setTimer);}if(prevStopTimer===true){clearInterval(setTimer);this.StartTimer();}}},{key:\"StartTimer\",value:function StartTimer(){var TickTimer=this.props.TickTimer;this.setState(function(){return{setTimer:setInterval(function(){return TickTimer();},1000)};});}},{key:\"render\",value:function render(){var timer=this.props.timer;return/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"timer\"},\"Tempo: \".concat(timer));}}]);return Timer;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({TickTimer:ActionTickTimer},dispatch);};var mapStateToProps=function mapStateToProps(_ref){var _ref$ReducerTimer=_ref.ReducerTimer,timer=_ref$ReducerTimer.timer,stopTimer=_ref$ReducerTimer.stopTimer;return{timer:timer,stopTimer:stopTimer};};export default connect(mapStateToProps,mapDispatchToProps)(Timer);Timer.defaultProps={stopTimer:false};","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/trivia-game/src/components/Timer.js"],"names":["React","Component","connect","bindActionCreators","ActionTickTimer","Timer","props","state","setTimer","StartTimer","prevProps","stopTimer","prevStopTimer","clearInterval","TickTimer","setState","setInterval","timer","mapDispatchToProps","dispatch","mapStateToProps","ReducerTimer","defaultProps"],"mappings":"mhCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,eAAT,KAAgC,+BAAhC,C,GAEMC,CAAAA,K,8FACJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAAb,CAFiB,aAKlB,C,sSAGO,MAAKC,UAAL,E,uOAGWC,S,CAAW,IACpBC,CAAAA,SADoB,CACN,KAAKL,KADC,CACpBK,SADoB,IAETC,CAAAA,aAFS,CAESF,SAFT,CAEpBC,SAFoB,IAGpBH,CAAAA,QAHoB,CAGP,KAAKD,KAHE,CAGpBC,QAHoB,CAI5B,GAAIG,SAAS,GAAK,IAAlB,CAAwB,CACtBE,aAAa,CAACL,QAAD,CAAb,CACD,CAED,GAAII,aAAa,GAAK,IAAtB,CAA4B,CAC1BC,aAAa,CAACL,QAAD,CAAb,CACA,KAAKC,UAAL,GACD,CACF,C,+CAEY,IACHK,CAAAA,SADG,CACW,KAAKR,KADhB,CACHQ,SADG,CAEX,KAAKC,QAAL,CAAc,iBAAO,CAAEP,QAAQ,CAAEQ,WAAW,CAAC,iBAAMF,CAAAA,SAAS,EAAf,EAAD,CAAoB,IAApB,CAAvB,CAAP,EAAd,EACD,C,uCAEQ,IACCG,CAAAA,KADD,CACW,KAAKX,KADhB,CACCW,KADD,CAEP,mBACE,2BAAK,cAAY,OAAjB,mBACaA,KADb,EADF,CAKD,C,mBAtCiBhB,S,EAyCpB,GAAMiB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAchB,CAAAA,kBAAkB,CACzD,CACEW,SAAS,CAAEV,eADb,CADyD,CAGtDe,QAHsD,CAAhC,EAA3B,CAMA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,kCACtBC,YADsB,CACNJ,KADM,mBACNA,KADM,CACCN,SADD,mBACCA,SADD,OAEjB,CACLM,KAAK,CAALA,KADK,CACEN,SAAS,CAATA,SADF,CAFiB,EAAxB,CAMA,cAAeT,CAAAA,OAAO,CAACkB,eAAD,CAAkBF,kBAAlB,CAAP,CAA6Cb,KAA7C,CAAf,CAQAA,KAAK,CAACiB,YAAN,CAAqB,CACnBX,SAAS,CAAE,KADQ,CAArB","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { ActionTickTimer } from '../store/actions/ActionsTimer';\n\nclass Timer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      setTimer: '',\n    };\n  }\n\n  async componentDidMount() {\n    await this.StartTimer();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { stopTimer } = this.props;\n    const { stopTimer: prevStopTimer } = prevProps;\n    const { setTimer } = this.state;\n    if (stopTimer === true) {\n      clearInterval(setTimer);\n    }\n\n    if (prevStopTimer === true) {\n      clearInterval(setTimer);\n      this.StartTimer();\n    }\n  }\n\n  StartTimer() {\n    const { TickTimer } = this.props;\n    this.setState(() => ({ setTimer: setInterval(() => TickTimer(), 1000) }));\n  }\n\n  render() {\n    const { timer } = this.props;\n    return (\n      <div data-testid=\"timer\">\n        {`Tempo: ${timer}`}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators(\n  {\n    TickTimer: ActionTickTimer,\n  }, dispatch,\n);\n\nconst mapStateToProps = ({\n  ReducerTimer: { timer, stopTimer },\n}) => ({\n  timer, stopTimer,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Timer);\n\nTimer.propTypes = {\n  stopTimer: PropTypes.bool,\n  timer: PropTypes.number.isRequired,\n  TickTimer: PropTypes.func.isRequired,\n};\n\nTimer.defaultProps = {\n  stopTimer: false,\n};\n"]},"metadata":{},"sourceType":"module"}